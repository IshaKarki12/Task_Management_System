<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Tasks</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        /* Your existing CSS styles here */
    </style>
</head>
<body>
    <h2>My Task List</h2>
    <table>
        <thead>
            <tr>
                <th>Task Name</th>
                <th>Status</th>
                <th>Due Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Example task rows -->
            <tr>
                <td id="task-name-1">Task 1</td>
                <td id="status-1">Pending</td>
                <td id="due-date-1">2025-04-30</td>
                <td>
                    <button onclick="updateStatus(1)">Update Status</button>
                    <button onclick="editTask(1)">Edit Task</button>
                </td>
            </tr>
            <tr>
                <td id="task-name-2">Task 2</td>
                <td id="status-2">In Progress</td>
                <td id="due-date-2">2025-05-15</td>
                <td>
                    <button onclick="updateStatus(2)">Update Status</button>
                    <button onclick="editTask(2)">Edit Task</button>
                </td>
            </tr>
            <!-- Add more rows as needed -->
        </tbody>
    </table>
    
    <a href="user-dashboard.jsp" class="back-link">Back to Dashboard</a>

    <script>
        // Function to handle status update
        function updateStatus(taskId) {
            const currentStatus = document.getElementById(`status-${taskId}`).innerText;
            const newStatus = prompt("Enter new status (Pending, In Progress, Completed):", currentStatus);
            
            if (newStatus && (newStatus === 'Pending' || newStatus === 'In Progress' || newStatus === 'Completed')) {
                document.getElementById(`status-${taskId}`).innerText = newStatus;
                alert(`Task ${taskId} status updated to ${newStatus}`);
            } else {
                alert("Invalid status. Please enter 'Pending', 'In Progress', or 'Completed'.");
            }
        }

        // Function to handle task editing
        function editTask(taskId) {
            const currentName = document.getElementById(`task-name-${taskId}`).innerText;
            const newName = prompt("Edit task name:", currentName);
            
            if (newName && newName.trim() !== "") {
                document.getElementById(`task-name-${taskId}`).innerText = newName;
                alert(`Task ${taskId} name updated to ${newName}`);
            } else {
                alert("Task name cannot be empty.");
            }
        }
    </script>
</body>
</html>
